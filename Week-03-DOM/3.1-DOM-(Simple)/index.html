<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TODO List</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://kit.fontawesome.com/dfcc07d8ba.js" crossorigin="anonymous"></script>
</head>

<body>
    <div class="wrapper ">
        <h1 class="head">ToDo Application</h1>
        <div class="hero">
            <input class="input-box" type="text" placeholder="Enter Your TODO">
            <button class="addBtn" onclick="add()">Add</button>
        </div>

        <div id="content">
            <div class="noHead">
                <h1>No Todos</h1>
            </div>
        </div>
    </div>
    <div class="update updateShow">
        <h1>Update Todo</h1>
        <div class="update-input"><label for="Title">Title</label>
            <input class="input-update" type="text">
        </div>

        <div class="Btn-update">
            <button class="update-btn1">Update Task</button>
            <button class="cancel-btn">Cancel</button>
        </div>
    </div>
</body>

<script>
    let count = 0;
    function add() {
        let noHead = document.querySelector(".noHead");
        noHead.classList.add("noHeadInvisible");
        let wrap = document.querySelector(".wrapper");
        let todo_style = document.createElement("div");
        todo_style.classList.add("todo-style");
        todo_style.classList.add("todo" + count);

        let todo_head = document.createElement("div");
        todo_head.classList.add("todo-head");

        let check = document.createElement("input");
        check.type = "checkbox";
        check.classList.add("check");

        let task = document.createElement("h1");
        task.classList.add("task" + count);
        todo_head.appendChild(check);
        todo_head.appendChild(task);
        todo_style.appendChild(todo_head);
        let parent = document.getElementById("content");
        parent.appendChild(todo_style);
        let todo_btn = document.createElement("div");
        todo_btn.classList.add("todo-btn");
        let btnDel = document.createElement("button");
        let icon1 = document.createElement("i");
        icon1.classList.add("fa-solid", "fa-trash-can", "icon");
        btnDel.appendChild(icon1);
        let btnUpdate = document.createElement("button");
        btnUpdate.classList.add("update_btn");
        let icon2 = document.createElement("i");
        icon2.classList.add("fa-solid", "fa-pen-to-square", "icon");
        btnUpdate.appendChild(icon2);
        todo_btn.appendChild(btnDel);
        todo_btn.appendChild(btnUpdate);
        todo_style.appendChild(todo_btn);
        let inputData = document.querySelector("input");
        task.innerHTML = inputData.value;
        inputData.value = "";
        btnDel.addEventListener('click', function () {
            parent.removeChild(todo_style);
            count--;

            if (count === 0) {
                noHead.classList.remove("noHeadInvisible");
            }
        });


        let input_update = document.querySelector(".input-update");
        let task_value = document.querySelector(".task" + count);
        input_update.value = task_value.innerHTML;
        console.log(task_value);
        let update_box = document.querySelector(".update");
        btnUpdate.addEventListener('click', function () {
            update_box.classList.remove("updateShow");
            wrap.classList.add("filter");
        });

        let cancel_btn = document.querySelector(".cancel-btn");
        cancel_btn.addEventListener('click', function () {
            update_box.classList.add("updateShow");
            wrap.classList.remove("filter");
        });
        count++;
    }


</script>

</html>